path = '/Users/rfreedma/Documents/CRIM_Python/crim-local/CRIM-online/crim/static/mei/MEI_4.0'
file_list = os.listdir(path) 
piece_list = [ ] 
for file in file_list: 
    name = path + "/" + file 
    piece_list.append(file)
    piece_list = sorted(piece_list)

first_piece = file_list[0]
piece = path + "/" + file 


# all pieces on git:
# piece_list = []
# raw_prefix = "https://raw.githubusercontent.com/CRIM-Project/CRIM-online/master/crim/static/mei/MEI_4.0/"
# URL = "https://api.github.com/repos/CRIM-Project/CRIM-online/git/trees/990f5eb3ff1e9623711514d6609da4076257816c"
# piece_json = requests.get(URL).json()
# # pattern to filter out empty header Mass files
# pattern = 'CRIM_Mass_([0-9]{4}).mei'

# # and now the request for all the files
# for p in piece_json["tree"]:
#     p_name = p["path"]
#     if re.search(pattern, p_name):
#         pass
#     else:
#         piece_list.append(p_name)

# select a piece
piece_name = st.sidebar.selectbox('Select Piece To View', piece_list)
st.title("CRIM Intervals")
st.header("Scores | Patterns | Plots")
# display name of selected piece
st.sidebar.write('You selected:', piece_name)

# and create full URL to use in the Verovio html block below
filepath = path + "/" + piece_name
piece = importScore(filepath)

show_score_checkbox = st.sidebar.checkbox('Show/Hide Score')